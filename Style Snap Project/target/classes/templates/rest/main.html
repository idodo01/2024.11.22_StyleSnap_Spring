<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>This is Rest Main</h1>
<form action="/rest/get3">
    <input type="text" name="s">
    <button>GO</button>
</form>
<section>
    <button id="get-btn">GET요청하기</button>
    <button id="post-btn">POST요청하기</button>
</section>
</body>
</html>
<script>
    const getBtn = document.getElementById('get-btn');
    const postBtn = document.getElementById('post-btn');

    getBtn.onclick = () => {
        // const xhr = new XMLHttpRequest();
        // xhr.open('GET', '/rest/get3');
        // xhr.send();
        // xhr.onload = () => {
        //     console.log(xhr.response);
        // }
        fetch(`/rest/get3?s=test&i=200`).then(response => {
            console.log(response);
            return response.text();
        }).then(value => {
            console.log(value);
        });
    }

    postBtn.onclick = () => {
        // const xhr = new XMLHttpRequest();
        // xhr.open('POST', '/rest/post');
        // xhr.send("Client Data");
        // xhr.onload = () => {
        //     console.log(xhr.response)
        // }
        fetch('/rest/post', {
            method: "POST",
            body: "클라이언트가 보내용"
        })
            .then(response => response.text())
            .then(console.log);


    }



</script>






